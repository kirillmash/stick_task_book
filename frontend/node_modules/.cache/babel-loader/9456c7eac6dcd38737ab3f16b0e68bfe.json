{"remainingRequest":"C:\\shchma\\task_stick\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\shchma\\task_stick\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\shchma\\task_stick\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\shchma\\task_stick\\frontend\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\shchma\\task_stick\\frontend\\src\\App.vue","mtime":1619006563210},{"path":"C:\\shchma\\task_stick\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\shchma\\task_stick\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\shchma\\task_stick\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\shchma\\task_stick\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3NoY2htYS90YXNrX3N0aWNrL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBib29rOiB7CiAgICAgICAgJ3RpdGxlJzogJycsCiAgICAgICAgJ2F1dGhvcic6ICcnLAogICAgICAgICd5ZWFyJzogJycKICAgICAgfSwKICAgICAgYm9va3M6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRCb29rcygpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgaWYgKHRoaXMuYm9vay5pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5jcmVhdGVCb29rKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lZGl0Qm9vaygpOwogICAgICB9CiAgICB9LAogICAgZ2V0Qm9va3M6IGZ1bmN0aW9uIGdldEJvb2tzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL2Jvb2tzLycpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXMyLmJvb2tzID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNyZWF0ZUJvb2s6IGZ1bmN0aW9uIGNyZWF0ZUJvb2soKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZ2V0Qm9va3MoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL2Jvb2tzLycsIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnY29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KF90aGlzMy5ib29rKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZ2V0Qm9va3MoKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3RoaXMzLmJvb2sgPSB7fTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZWRpdEJvb2s6IGZ1bmN0aW9uIGVkaXRCb29rKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmdldEJvb2tzKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9ib29rcy8iLmNvbmNhdChfdGhpczQuYm9vay5pZCwgIi8iKSwgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdwdXQnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShfdGhpczQuYm9vaykKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmdldEJvb2tzKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzNC5ib29rID0ge307CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0ZUJvb2s6IGZ1bmN0aW9uIGRlbGV0ZUJvb2soYm9vaykgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmdldEJvb2tzKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9ib29rcy8iLmNvbmNhdChib29rLmlkLCAiLyIpLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ2RlbGV0ZScsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnY29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KF90aGlzNS5ib29rKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuZ2V0Qm9va3MoKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,iBAAA,EADA;AAEA,kBAAA,EAFA;AAGA,gBAAA;AAHA,OADA;AAOA,MAAA,KAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,OAbA,qBAaA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,QAAA,EADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,GAfA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,KAAA,IAAA,CAAA,EAAA,KAAA,SAAA,EAAA;AACA,aAAA,UAAA;AACA,OAFA,MAEA;AACA,aAAA,QAAA;AACA;AAEA,KARA;AASA,IAAA,QATA,sBASA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,kCAAA,CADA;;AAAA;AACA,gBAAA,QADA;AAAA;AAAA,uBAEA,QAAA,CAAA,IAAA,EAFA;;AAAA;AAEA,gBAAA,MAAA,CAAA,KAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KAbA;AAcA,IAAA,UAdA,wBAcA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,QAAA,EADA;;AAAA;AAAA;AAAA,uBAGA,KAAA,CAAA,kCAAA,EAAA;AACA,kBAAA,MAAA,EAAA,MADA;AAEA,kBAAA,OAAA,EAAA;AACA,oCAAA;AADA,mBAFA;AAKA,kBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,MAAA,CAAA,IAAA;AALA,iBAAA,CAHA;;AAAA;AAAA;AAAA,uBAUA,MAAA,CAAA,QAAA,EAVA;;AAAA;AAWA,gBAAA,MAAA,CAAA,IAAA,GAAA,EAAA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,KA3BA;AA4BA,IAAA,QA5BA,sBA4BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,QAAA,EADA;;AAAA;AAAA;AAAA,uBAGA,KAAA,2CAAA,MAAA,CAAA,IAAA,CAAA,EAAA,QAAA;AACA,kBAAA,MAAA,EAAA,KADA;AAEA,kBAAA,OAAA,EAAA;AACA,oCAAA;AADA,mBAFA;AAKA,kBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,MAAA,CAAA,IAAA;AALA,iBAAA,CAHA;;AAAA;AAAA;AAAA,uBAUA,MAAA,CAAA,QAAA,EAVA;;AAAA;AAWA,gBAAA,MAAA,CAAA,IAAA,GAAA,EAAA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,KAzCA;AA0CA,IAAA,UA1CA,sBA0CA,IA1CA,EA0CA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,QAAA,EADA;;AAAA;AAAA;AAAA,uBAGA,KAAA,2CAAA,IAAA,CAAA,EAAA,QAAA;AACA,kBAAA,MAAA,EAAA,QADA;AAEA,kBAAA,OAAA,EAAA;AACA,oCAAA;AADA,mBAFA;AAKA,kBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,MAAA,CAAA,IAAA;AALA,iBAAA,CAHA;;AAAA;AAAA;AAAA,uBAUA,MAAA,CAAA,QAAA,EAVA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAtDA;AAjBA,CAAA","sourcesContent":["<template>\n  <div id=\"app\">\n    <form @submit.prevent=\"submitForm\">\n      <div class=\"form-group row\">\n        <input type=\"text\" class=\"form-control col-3 mx-2\" placeholder=\"title\" v-model=\"book.title\">\n        <input type=\"text\" class=\"form-control col-3 mx-2\" placeholder=\"author\" v-model=\"book.author\">\n        <input type=\"text\" class=\"form-control col-3 mx-2\" placeholder=\"year\" v-model=\"book.year\">\n        <button class=\"btn btn-success\">Submit</button>\n      </div>\n    </form>\n    <table class=\"table\">\n        <thead>\n            <th>Title</th>\n            <th>Author</th>\n            <th>Year</th>\n            <th></th>\n        </thead>\n        <tbody>\n            <tr v-for=\"book in books\" :key=\"book.id\" @dblclick=\"$data.book = book\">\n                <td>{{ book.title }}</td>\n                <td>{{ book.author }}</td>\n                <td>{{ book.year }}</td>\n                <td>\n                    <button class=\"btn btn-outline-danger btn-sm mx-1\" @click=\"deleteBook(book)\">X</button>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'App',\n  data() {\n        return {\n            book: {\n              'title': '',\n              'author': '',\n              'year': '',\n\n            },\n            books: []\n        }\n    },\n  async created(){\n        await this.getBooks();\n  },\n\n  methods: {\n        submitForm(){\n          if (this.book.id === undefined){\n            this.createBook();\n          } else {\n            this.editBook();\n          }\n\n        },\n        async getBooks(){\n          var response = await fetch('http://127.0.0.1:8000/api/books/');\n          this.books = await response.json();\n\n        },\n        async createBook(){\n          await this.getBooks();\n\n          await fetch('http://127.0.0.1:8000/api/books/', {\n            method: 'post',\n            headers: {\n              'content-Type': 'application/json'\n            },\n            body: JSON.stringify(this.book)\n          });\n            await this.getBooks();\n            this.book = {};\n\n        },\n        async editBook(){\n          await this.getBooks();\n\n          await fetch(`http://127.0.0.1:8000/api/books/${this.book.id}/`, {\n            method: 'put',\n            headers: {\n              'content-Type': 'application/json'\n            },\n            body: JSON.stringify(this.book)\n          });\n            await this.getBooks();\n            this.book = {};\n\n        },\n        async deleteBook(book){\n          await this.getBooks();\n\n          await fetch(`http://127.0.0.1:8000/api/books/${book.id}/`, {\n            method: 'delete',\n            headers: {\n              'content-Type': 'application/json'\n            },\n            body: JSON.stringify(this.book)\n          });\n            await this.getBooks();\n\n        }\n  }\n\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n"],"sourceRoot":"src"}]}